<div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 mb-10">
    <h2 id="heading-agenda"
        class="text-3xl sm:text-4xl font-bold text-caractere">
        {{ 'agenda.name'|trans }}
    </h2>
    <a href="{{ urlAgenda }}"
       title="Tout l'agenda"
       class="group inline-flex items-center gap-2 text-cta-dark font-semibold
              hover:text-cta-light transition-colors duration-200
              focus-visible:outline-none focus-visible:underline">
        {{ 'events.all'|trans }}
        <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"
             xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"/>
        </svg>
    </a>
</div>

<ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 list-none">
    {% for event in events %}
        <li>
            <a href="{{ event.url }}"
               class="group flex flex-row sm:flex-col h-full
                      bg-white rounded-2xl overflow-hidden
                      shadow-sm hover:shadow-lg
                      border border-borderjf hover:border-cta-light/30
                      transition-all duration-300
                      focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-cta-light/50 focus-visible:ring-offset-2">
                {# Date block #}
                <div class="flex flex-col items-center justify-center
                            w-24 sm:w-full shrink-0
                            px-4 py-5 sm:py-6
                            bg-cta-dark text-white
                            group-hover:bg-cta-light
                            transition-colors duration-300">
                    <span class="text-3xl sm:text-4xl font-bold leading-none">
                        {% if event.getClosestUpcomingDate and event.dates|length > 1 %}
                            >
                        {% endif %}
                        {{ event.getNextDateParts["day"] }}
                    </span>
                    <span class="text-sm sm:text-base font-medium uppercase tracking-wide mt-1">
                        {{ event.getNextDateParts["month"] }}
                    </span>
                    <span class="text-xs opacity-75 mt-0.5">
                        {{ event.getNextDateParts["year"] }}
                    </span>
                </div>

                {# Event info #}
                <div class="flex flex-col justify-center gap-1.5 p-4 sm:p-5 min-w-0">
                    <span class="text-base font-semibold text-gray-800 leading-snug
                                 group-hover:text-cta-dark transition-colors duration-200
                                 line-clamp-2">
                        {{ event.name }}
                    </span>
                    {% if event.locality %}
                        <span class="flex items-center gap-1.5 text-sm text-grey-basic">
                            <svg class="w-4 h-4 shrink-0" fill="none" viewBox="0 0 24 24"
                                 stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"/>
                            </svg>
                            <span class="truncate">{{ event.locality }}</span>
                        </span>
                    {% endif %}
                </div>
            </a>
        </li>
    {% endfor %}
</ul>
